<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HamONdest-vignette • HamONdest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="HamONdest-vignette">
<meta property="og:description" content="HamONdest">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">HamONdest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/HamONdest-vignette.html">HamONdest-vignette</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HamONdest-vignette_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>HamONdest-vignette</h1>
            
      
      
      <div class="hidden name"><code>HamONdest-vignette.Rmd</code></div>

    </div>

    
    
<div id="hamilton-destinations---all-in-one-place" class="section level1">
<h1 class="hasAnchor">
<a href="#hamilton-destinations---all-in-one-place" class="anchor"></a>Hamilton Destinations - All in One Place!</h1>
<p>The goal of HamONdest is to compile all potential destinations in Hamilton, Ontario, Canada all in one data-package to facilitate the calculation of accessibility and mobility measures in the transportation planning context.</p>
<p>Currently contained in the data-package:</p>
<ul>
<li><p>2010-2011 and 2015-2016 Schools “<a href="#the-change-in-public-and-public-catholic-schools">The Change in Public and Public-Catholic Schools</a>”,</p></li>
<li><p>municipally-owned land “<a href="#underdeveloped-outdoor-land-where-is-it">Underdeveloped Outdoor Land: Where is it?</a>”,</p></li>
<li><p>health care and residential care facilities “<a href="#the-density-of-care-facilities-by-ward">The Density of Care Facilities by Ward</a>”.</p></li>
</ul>
<p>The majority of data is sourced from <a href="https://open.hamilton.ca/">Hamilton’s Open Data Portal</a> and is augmented with additional open data from higher levels of government (provincial and federal), predicted values, and/or data from <a href="https://www.openstreetmap.org">OpenStreetMap</a>.</p>
<p>The intention of this package is to continue collect up-to-date location and additional details about potential destinations/opportunities worth travelling to within the Hamilton Census Metro Area (CMA). All objects contained within this package are in the same coordinate system, carry similar field names, and will conveniently carry ‘supply’ values (i.e., capacity of the service/facility/opportunity) to facilitate accessibility calculations. Currently, only the 2010-2011 and 2015-2016 Schools object has an estimated ‘supply’.</p>
<p>The HamONdest package is still a work in progress and is freely available <a href="https://github.com/soukhova/HamONDest-package">here</a>.</p>
<p>This vignette visualizes the data contained within this package and the type of analysis which can be conducted using the data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">HamONdest</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></code></pre></div>
<div id="the-change-in-public-and-public-catholic-schools" class="section level2">
<h2 class="hasAnchor">
<a href="#the-change-in-public-and-public-catholic-schools" class="anchor"></a>The Change in Public and Public-Catholic Schools</h2>
<p>The following plot shows the change in Elementary and Secondary Public and Public-Catholic Schools between 2011 and 2016 from the <em>Schools_201516_201011</em> object. <strong>10</strong> expanded, <strong>6</strong> moved addresses, <strong>3</strong> were newly opened, and <strong>14</strong> were removed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Ham_CityBound</span>,
          size <span class="op">=</span> <span class="fl">0.5</span>,
          alpha <span class="op">=</span> <span class="fl">0.5</span>,
          color  <span class="op">=</span> <span class="st">"black"</span>,
          fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Schools_201516_201011</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">!=</span> <span class="st">"NoChange"</span><span class="op">)</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>col <span class="op">=</span> <span class="va">Status</span>, size <span class="op">=</span> <span class="va">Level</span><span class="op">)</span>,
          shape <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </code></pre></div>
<p><img src="HamONdest-vignette_files/figure-html/schools-changed-2011-2016-1.png" width="700"></p>
<p>This spatial visualization demonstrates that the majority of schools that were closed are elementary, and those elementary schools are located within Downtown (Center) Hamilton.</p>
<p>However… is this a disproportionately high number of schools which closed? How do school closures align with student population within the area? Future analysis will investigate these ideas.</p>
</div>
<div id="underdeveloped-outdoor-land-where-is-it" class="section level2">
<h2 class="hasAnchor">
<a href="#underdeveloped-outdoor-land-where-is-it" class="anchor"></a>Underdeveloped Outdoor Land: Where is it?</h2>
<p>The next visualization demonstrates the “Underdeveloped Outdoor” within the <em>City-Owned Property</em> object. The visualization scales each “Underdeveloped Outdoor” by the property areas; where larger circles represent larger property areas and smaller circles represent smaller property areas (in units of Acres).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Ham_CityBound</span>,
          size <span class="op">=</span> <span class="fl">0.5</span>,
          alpha <span class="op">=</span> <span class="fl">0.5</span>,
          color  <span class="op">=</span> <span class="st">"black"</span>,
          fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">City_Owned_Property</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">CATEGORY_TYPE</span> <span class="op">==</span> <span class="st">"Underdeveloped Outdoor"</span><span class="op">)</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">PROP_AREA</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, 
          shape <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>col <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></code></pre></div>
<p><img src="HamONdest-vignette_files/figure-html/city-owned-properties-detail-1.png" width="700"></p>
<p>This visualization demonstrates that this property which is namely cemeteries with no infrastructure, flat land with mowed grass, and proposed park space appears to be concentrated in density of locations are within Hamilton Center. However, Properties with large area are seem to be located outside of Hamilton Center.</p>
<p>Further analysis to follow.</p>
</div>
<div id="the-density-of-care-facilities-by-ward" class="section level2">
<h2 class="hasAnchor">
<a href="#the-density-of-care-facilities-by-ward" class="anchor"></a>The Density of Care Facilities by Ward</h2>
<p>This visualization shows the density of care facilities within the <em>Care Facilities</em> object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#join the ward boundary to the care_facilities object and filter out all "NA" wards (i.e. those not inside the Hamilton urban boundary). Remember, these are all the care facilities for the entire Hamilton CMA which is broader than just the Hamilton urban boundary.</span>
<span class="va">Care_Facilities_Ham</span> <span class="op">&lt;-</span> <span class="va">Care_Facilities</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_join.html">st_join</a></span><span class="op">(</span><span class="va">Ham_WardBound</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">WARD</span><span class="op">)</span><span class="op">)</span>

<span class="co">#display all types contained within the care_facilities</span>
<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">Care_Facilities_Ham</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Community or Health Support Service"    
## [2] "Primary Health Service"                 
## [3] "Fee-Based Independent Health Facility"  
## [4] "Hospital"                               
## [5] "Laboratory - Specimen Collection Centre"
## [6] "Long-Term Care Home"                    
## [7] "Pharmacy"                               
## [8] "Residential Care Facility"</code></pre>
<p>Let’s look at Long-Term Care Homes and Residential Care Facilities as they support assisted-residential living ward-density.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#filter only Long-Term Care Home OR Residential Care Facility</span>
<span class="va">Care_Facilities_Ham</span> <span class="op">&lt;-</span> <span class="va">Care_Facilities_Ham</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"Long-Term Care Home"</span> <span class="op">|</span> <span class="va">Type</span> <span class="op">==</span> <span class="st">"Residential Care Facility"</span><span class="op">)</span>

<span class="co">#group by ward and count number of facilities within ward</span>
<span class="va">Ward_count</span> <span class="op">&lt;-</span> <span class="va">Care_Facilities_Ham</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">WARD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>LTC_RCF_Count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">Ward_count</span> </code></pre></div>
<pre><code>##    WARD LTC_RCF_Count
## 1     1             7
## 2    10             7
## 3    12             3
## 4    13            13
## 5    14            11
## 6    15             1
## 7     2            19
## 8     3            26
## 9     4             4
## 10    5             3
## 11    6             2
## 12    7             4
## 13    8             4
## 14    9             4</code></pre>
<p>Displayed above is the count of Long-Term and Residential Care Facilities per ward. Notice there is no count for Ward 11: this means there are no LTC/RCF facilities here. Let’s merge this count to the Ward Boundaries and plot.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#merge ward_count to the Ward boundaries and keep all fields from ward_count and from the ward boundaries (this will ensure Ward 11 is retained)</span>
<span class="va">Ward_count</span> <span class="op">&lt;-</span> <span class="va">Ward_count</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">Ham_WardBound</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"WARD"</span><span class="op">)</span>, all<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>LTC_RCF_Count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">WARD</span><span class="op">==</span><span class="st">"11"</span>, <span class="fl">0</span>, <span class="va">LTC_RCF_Count</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html">st_sf</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Now let’s plot the wards and the count of how many long term care and residential care facilities are contained within each ward.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#plot</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Ward_count</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">LTC_RCF_Count</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span><span class="op">(</span>trans <span class="op">=</span> <span class="st">"sqrt"</span>, alpha <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span></code></pre></div>
<p><img src="HamONdest-vignette_files/figure-html/care-facilities-detailed-1.png" width="700"></p>
<p>There is a high concentration of LTC and/or RCF within two wards in downtown Hamilton. There are low or no LTC or RCF located within the most peripheral wards (with exception to Ward 13).</p>
<p>Why is this distribution so uneven? Does this align with where people who will be in need live? How would this density look different if adjusted to population? To area? To a smaller boundary (DA?)?</p>
<p>Further analysis to follow.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Anastasia Soukhov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
